<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>必应每日图片</title>
</head>
<body>
    <p id="tip">正在获取必应每日图片并跳转...</p>

    <script>
        const tip = document.getElementById('tip');

        // 完全复刻你 PHP 里的逻辑
        async function getBingImg() {
            try {
                const api = "https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1&mkt=zh-CN";
                let res = await fetch(api);
                let data = await res.json();

                // 对应 PHP：$array->{"images"}[0]->{"urlbase"}
                let urlbase = data.images[0].urlbase;
                let imgUrl = "https://cn.bing.com" + urlbase + "_1920x1080.jpg";

                // 跳转到这张图
                window.location.href = imgUrl;
            } catch (err) {
                tip.innerText = "获取失败，5 秒后刷新...";
                setTimeout(() => location.reload(), 5000);
            }
        }

        getBingImg();
    </script>
</body>
</html>
