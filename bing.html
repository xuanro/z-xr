<!DOCTYPE html>
<html>
<head>
    <title>必应每日图片</title>
</head>
<body>
    <p id="tip">正在获取必应每日图片并跳转...</p>

    <script>
        function getBingImage() {
            fetch('https://api.allorigins.win/get?url=' + encodeURIComponent('https://cn.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1'))
                .then(response => response.json())
                .then(data => {
                    const jsonData = JSON.parse(data.contents);
                    const imgUrl = 'https://cn.bing.com' + jsonData.images[0].url;
                    window.location.href = imgUrl;
                })
                .catch(error => {
                    console.error('Error:', error);
                    document.getElementById('tip').innerText = '获取失败，5 秒后自动刷新...';
                    setTimeout(() => {
                        window.location.reload();
                    }, 5000);
                });
        }

        // 执行
        getBingImage();
    </script>
</body>
</html>
